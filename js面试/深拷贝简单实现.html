<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	const obj = {
        name:'Tom',
        age:18,
        friend:{
            name:'Leo'
        },
        pets:[
            'Cat','Dog'
        ]
    }
    function getDataType(data){
    	if(data instanceof Array){
    		return "array"
    	}else if(data instanceof Object){
    		return "object"
    	}
    }

	function deepCopy(data){
		const type = getDataType(data)
		let result
		if(type == 'array'){
			result = []
		}else if(type == 'object'){
			result = {}
		}else{
			return data
		}
		for(let key in data){
			let val = data[key]
			let valType = getDataType(val)
			if(valType == 'array' || valType == 'object'){
				result[key] = deepCopy(val)
			}else{
				result[key] = val
			}
		}
		return result
	}


	const obj1 = deepCopy(obj)
    obj1.name = 'Peter'
    obj1.friend.name = 'Mike'
    obj1.pets.push('Tigger')
    
    console.log('obj',obj)
    console.log('obj1',obj1)
</script>
</html>