<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	/*
	//1.创建闭包最常见的方式：函数作为返回值
	function foo(){
		var name = "Tom"
		return function(){
			console.log(name)
		}
	}
	const bar = foo()
	bar() //打印Tom 外部函数访问内部变量
	*/

	/*
	这里解释一下上边的过程: addCount() 执行的时候, 返回一个函数, 函数是可以创建自己的作用域的, 但是此时返回的这个函数内部需要引用 addCount() 作用域下的变量 count, 因此这个 count 是不能被销毁的.接下来需要几个计数器我们就定义几个变量就可以,并且他们都不会互相影响,每个函数作用域中还会保存 count 变量不被销毁,进行不断的累加
	function addCount(){
		let count = 0
		return function(){
			count += 1
			console.log('count:',count)
		}
	}
	var bar1 = addCount()
	var bar2 = addCount()
	bar1()
	bar2()
	bar1()
	bar2()
	*/

	/*
	for(var i=0;i<4;i++){
		setTimeout((function(i){
			return function(){
				console.log(i)
			}
		})(i),300)
	}
	*/
	/*
	for(var i=0;i<4;i++){
		(function(i){
			setTimeout(function(){
				console.log(i)
			},300.)
		})(i)
	}
	*/
// 考察闭包：a(4,2) = b(3) = 3*b(4) = 3*4*b(5) = 3*4*1 = 12 
	function a(m, n) {
	     var b = function (l) {
	           return l <= m ? l * b(l + 1) : 1;
	     }
	     return b(m - n + 1);
    }
    console.log(a(4, 2));

</script>
</html>